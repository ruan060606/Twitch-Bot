{"version":3,"sources":["../../../src/Api/utils/validators.js"],"names":["constants","apiOptions","shape","debug","shapeWithClientId","clientId","shapeWithToken","token","options","maybeOptions","urlRoot","KRAKEN_URL_ROOT"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AAGA;;IAAYA,S;;;;;;AAEZ,IAAMC,aAAa,SAAbA,UAAa,eAAgB;AACjC;;;;;;;;AAQA,MAAMC,QAAQ;AACZC;AADY,GAAd;;AAIA,MAAMC,iCACDF,KADC;AAEJG;AAFI,IAAN;;AAKA,MAAMC,8BACDJ,KADC;AAEJK;AAFI,IAAN;;AAKA,MAAMC,UAAU,4BACd,EADc,eAETC,YAFS,GAGd;AACEC,aAASV,UAAUW,eADrB;AAEER,WAAO;AAFT,GAHc,CAAhB;;AASA,2BACE,0BAAWK,OAAX,EAAoBJ,iBAApB,KACE,0BAAWI,OAAX,EAAoBF,cAApB,CAFJ,EAGE,iDAHF;;AAMA,SAAOE,OAAP;AACD,CAvCD;;QAyCSP,U,GAAAA,U","file":"validators.js","sourcesContent":["import invariant from 'invariant'\nimport { conformsTo, defaultsDeep, isBoolean, isString } from 'lodash'\n\nimport * as constants from '../constants'\n\nconst apiOptions = maybeOptions => {\n  /**\n   * API options\n   * @typedef {Object} ApiOptions\n   * @property {string} [clientId] Optional if token is defined.\n   * @property {string} [token] Optional if clientId is defined.\n   * @property {string} [urlRoot]\n   * @property {boolean} [debug=false]\n   */\n  const shape = {\n    debug: isBoolean,\n  }\n\n  const shapeWithClientId = {\n    ...shape,\n    clientId: isString,\n  }\n\n  const shapeWithToken = {\n    ...shape,\n    token: isString,\n  }\n\n  const options = defaultsDeep(\n    {},\n    { ...maybeOptions },\n    {\n      urlRoot: constants.KRAKEN_URL_ROOT,\n      debug: false,\n    },\n  )\n\n  invariant(\n    conformsTo(options, shapeWithClientId) ||\n      conformsTo(options, shapeWithToken),\n    '[twitch-js/Api] options: Expected valid options',\n  )\n\n  return options\n}\n\nexport { apiOptions }\n"]}